<html>
<head>

	<title>Mapify.com</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">

	<!-- jQuery library -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<!-- Popper JS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>

	<!-- Latest compiled JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
	
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
		integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
		crossorigin=""/>
		
	<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
		integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
		crossorigin=""></script>
     
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
   
    <style>
	#ipt1{
	width:175px;  
    height:30px;
	}
	#ipt4{
	width:175px;  
    height:30px;
	}
	#ipt6{
	width:175px;  
    height:30px;
	}
	#ipt11{
	width:175px;  
    height:30px;
	}
	</style>
</head>

<body>
    <nav class="navbar navbar-expand-sm bg-secondary navbar-dark">
		<ul class="navbar-nav">
			<li class="nav-item">
				<a class="nav-link" href="#"><b>Mapify</b></a>
			</li>
		</ul>
		<ul class="navbar-nav ml-auto">
			<li class="nav-item navbar-right active">
				<a class="nav-link" href="#">T20 WC, 16</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="adm.html">Stats</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="#">More</a>
			</li>
		</ul>
	</nav>
	
	<br/><br/>
	
    <div class="row">
        <div class="col">
	        &nbsp;<div id="mapid" style="width:700px;height:450px;"></div><br/></div>
        <div class="col"><h2> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Some Interesting statistics</h2>
            <div id="piechart1"></div></div>
    </div>

<hr/>
<h2> Add your data</h2>
<br/>
&nbsp;<select id="ipt1" name="Pos1">
			<option value="32.1976097">Dharamshala</option>
			<option value="12.9788139">Chinnaswamy</option>
			<option value="21.0856225">Indore Cricket</option>
			<option value="30.690889">HSPCA</option>
			<option value="28.6377383">Punjab CA</option>
			<option value="18.9388227">Wankhede</option>
			<option value="22.5646081">Eden Gardens</option>
		</select>
		<br/><br/>
		&nbsp;<input id="ipt3" type="number" name="Match_num" placeholder="Match number"><br/><br/>
		&nbsp;<select id="ipt4" name="Stage">
			<option value="Group">Group</option>
			<option value="Super 10">Super 10</option>
			<option value="Semifinal">Semifinal</option>
			<option value="Final">Final</option>
		</select><br/><br/>
		&nbsp;<input id="ipt5" type="text" name="Date" placeholder="DD/MM/YY format"><br/><br/>
		&nbsp;<select id="ipt6" name="1st_bat_team">
			<option value="IND">India</option>
			<option value="AUS">Australia</option>
			<option value="ENG">England</option>
			<option value="NZ">New Zealand</option>
			<option value="PAK">Pakistan</option>
			<option value="SA">South Africa</option>
			<option value="SL">Sri Lanka</option>
			<option value="WI">West Indies</option>
			<option value="BAN">Bangladesh</option>
			<option value="ZIM">Zimbabwe</option>
			<option value="SC">Scotland</option>
			<option value="NTH">Netherlands</option>
			<option value="IR">Ireland</option>
			<option value="HK">Hong Kong</option>
			<option value="AFG">Afghanistan</option>
			<option value="OM">Oman</option>
		</select><br/><br/>
		&nbsp;<input id="ipt7" type="number" name="1st_bat_team_runs" placeholder="1st bat team runs"><br/><br/>
		&nbsp;<input id="ipt8" type="number" name="1st_bat_team_wickets" placeholder="1st bat team wickets"><br/><br/>
		&nbsp;<input id="ipt9" type="number" name="1st_bat_team_overs" placeholder="1st bat team overs"><br/><br/>
		&nbsp;<input id="ipt10" type="text" name="1st_bat_team_result" placeholder="1st bat team result"><br/><br/>
		&nbsp;<select id="ipt11" name="2nd_bat_team">
			<option value="IND">India</option>
			<option value="AUS">Australia</option>
			<option value="ENG">England</option>
			<option value="NZ">New Zealand</option>
			<option value="PAK">Pakistan</option>
			<option value="SA">South Africa</option>
			<option value="SL">Sri Lanka</option>
			<option value="WI">West Indies</option>
			<option value="BAN">Bangladesh</option>
			<option value="ZIM">Zimbabwe</option>
			<option value="SC">Scotland</option>
			<option value="NTH">Netherlands</option>
			<option value="IR">Ireland</option>
			<option value="HK">Hong Kong</option>
			<option value="AFG">Afghanistan</option>
			<option value="OM">Oman</option>
		</select><br/><br/>
		&nbsp;<input id="ipt12" type="number" name="2nd_bat_team_runs" placeholder="2nd bat team runs"><br/><br/>
		&nbsp;<input id="ipt13" type="number" name="2nd_bat_team_wickets" placeholder="2nd bat team wickets"><br/><br/>
		&nbsp;<input id="ipt14" type="number" name="2nd_bat_team_overs" placeholder="2nd bat team overs"><br/><br/>
		&nbsp;<input id="ipt15" type="text" name="2nd_bat_team_result" placeholder="2nd bat team result"><br/><br/>
		
&nbsp;<button id="btn">Submit</button><br/>
<hr/>
&nbsp;<button id="btn3" style="background-color:grey;color:white;">Signout</button>		<!-- For logging out --><br/>
&nbsp;<div id="messages"></div><br/>


		<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
		
		<script>
			google.charts.load('current', {'packages':['corechart']});
			google.charts.setOnLoadCallback(drawChart);
			
			// Draw the chart and set the chart values
			function drawChart() {
				var data = google.visualization.arrayToDataTable([
				['Bowling', 'Result'],
				['Bowling First', 12],
				['Bowling Second', 11]
				]);
				
				// Optional; add a title and set the width and height of the chart
				var options = {'title':'Winning Statistics', 'width':600, 'height':450,colors: ['#e0440e', '#ec8f6e'],is3D: true};
				
				// Display the chart inside the <div> element with id="piechart"
				var chart = new google.visualization.PieChart(document.getElementById('piechart1'));
				chart.draw(data, options);
			}
			
			
			
			var mymap = L.map('mapid').setView([21.0856225,78.9879812], 4);
			
			L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiZGV2aW5jbyIsImEiOiJjamZsbGhoam8waDYyMzNuN3gyNHZhbzBpIn0.yPx2G5Rcafz4OeDvY3J13w', {
				attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>',
				maxZoom: 18,
				id: 'mapbox.streets',
				accessToken: 'your.mapbox.access.token'
			}).addTo(mymap);
			
			var popup = L.popup();
			var greenIcon = L.icon({
				iconUrl: 'f1.png',
			
				// size of the icon
				iconSize:     [35,35], 
			
				// size of the shadow
				shadowSize:   [50, 64], 
			
				// point of the icon which will correspond to marker's location
				iconAnchor:   [17.5,35], 
			
				// the same for the shadow
				shadowAnchor: [4, 62],  
			
				// point from which the popup should open relative to the iconAnchor
				popupAnchor:  [-3, -76] 
			});
			
		var greenIcon1 = L.icon({
			iconUrl: 'f2.png',
			
			// size of the icon
			iconSize:     [38,38], 
			
			// size of the shadow
			shadowSize:   [50, 64], 
			
			// point of the icon which will correspond to marker's location
			iconAnchor:   [19,38], 
			
			// the same for the shadow
			shadowAnchor: [4, 62],  
			
			// point from which the popup should open relative to the iconAnchor
			popupAnchor:  [-3, -76] 
		});
		
		
		var greenIcon2 = L.icon({
			iconUrl: 'f4.png',
			
			// size of the icon
			iconSize:     [38,38], 
			
			// size of the shadow
			shadowSize:   [50, 64], 
			
			// point of the icon which will correspond to marker's location
			iconAnchor:   [19,38], 
			
			// the same for the shadow
			shadowAnchor: [4, 62],  
			
			// point from which the popup should open relative to the iconAnchor
			popupAnchor:  [-3, -76] 
		});
		
var customPopup = "<b>5. Super 10 - 18/3/16</b><br/><br/><img src='NZ.png' width='30px' height='30px' alt='NZ'> NZ- 142/8 (20), W<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='AUS.png' width='30px' height='30px' alt='AUS'> AUS- 134/9 (20), L<br/><br/>";
var customOptions =
        {
        'className' : 'custom'
        }
var marker = L.marker([32.1976097,76.3237065],{icon: greenIcon}).addTo(mymap);
marker.bindPopup(customPopup,customOptions).openPopup();
mymap.on('zoomend' , function (e) {
    console.log(mymap.getZoom());
    if (mymap.getZoom()<4){
        marker.remove();
    }
	else{
	marker.setLatLng([32.1976097,76.3237065],{icon: greenIcon});
    marker.addTo(mymap);
	}
});
var marker1 = L.marker([12.9788139,77.5974045],{icon: greenIcon}).addTo(mymap);
marker1.bindPopup("<b>13. Super 10 - 23/3/16</b><br/><br/><img src='IND.png' width='30px' height='30px' alt='IND'> IND- 146/7 (20), W<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='BAN.png' width='30px' height='30px' alt='BAN'> BAN- 145/9 (20), L<br/><br/><b>10. Super 10 - 21/3/16</b><br/><br/><img src='BAN.png' width='30px' height='30px' alt='BAN'> BAN- 156/5 (20), L<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='AUS.png' width='30px' height='30px' alt='AUS'> AUS- 157/7 (18.3), W<br/><br/><b>9. Super 10 - 20/3/16</b><br/><br/><img src='SL.png' width='30px' height='30px' alt='SL'> SL- 122/9 (20), L<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='WI.png' width='30px' height='30px' alt='WI'> WI- 127/3 (18.2), W");
mymap.on('zoomend' , function (e) {
    console.log(mymap.getZoom());
    if (mymap.getZoom()<4){
        marker1.remove();
    }
	else{
	marker1.setLatLng([12.9788139,77.5974045],{icon: greenIcon});
    marker1.addTo(mymap);
	}
});
var marker2 = L.marker([21.0856225,78.9879812],{icon: greenIcon}).addTo(mymap);
marker2.bindPopup("<b>18. Super 10 - 27/3/16</b><br/><br/><img src='AFG.png' width='30px' height='30px' alt='AFG'> AFG- 123/7 (20), W<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='WI.png' width='30px' height='30px' alt='WI'> WI- 117/8 (20), L<br/><br/><b>15. Super 10 - 25/3/16</b><br/><br/><img src='SA.png' width='30px' height='30px' alt='SA'> SA- 122/8 (20), L<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='WI.png' width='30px' height='30px' alt='WI'> WI- 123/7 (19.4), W<br/><br/><b>1. Super 10 - 15/3/16</b><br/><br/><img src='NZ.png' width='30px' height='30px' alt='NZ'> NZ- 126/7 (20), W<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='IND.png' width='30px' height='30px' alt='IND'> IND- 79/10 (18.1), L");
mymap.on('zoomend' , function (e) {
    console.log(mymap.getZoom());
    if (mymap.getZoom()<4){
        marker2.remove();
    }
	else{
	marker2.setLatLng([21.0856225,78.9879812],{icon: greenIcon});
    marker2.addTo(mymap);
	}
});
var marker3 = L.marker([30.690889,76.7353423],{icon: greenIcon}).addTo(mymap);
marker3.bindPopup("<b>19. Super 10 - 27/3/16</b><br/><br/><img src='AUS.png' width='30px' height='30px' alt='AUS'> AUS- 160/6 (20), L<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='IND.png' width='30px' height='30px' alt='IND'> IND- 161/4 (19.1), W<br/><br/><b>14. Super 10 - 25/3/16</b><br/><br/><img src='AUS.png' width='30px' height='30px' alt='AUS'> AUS- 193/4 (20), W<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='PAK.png' width='30px' height='30px' alt='PAK'> PAK- 158/5 (20), L<br/><br/><b>11. Super 10 - 22/3/16</b><br/><br/><img src='NZ.png' width='30px' height='30px' alt='NZ'> NZ- 180/5 (20), L<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='PAK.png' width='30px' height='30px' alt='PAK'> PAK- 158/5 (20), W");
mymap.on('zoomend' , function (e) {
    console.log(mymap.getZoom());
    if (mymap.getZoom()<4){
        marker3.remove();
    }
	else{
	marker3.setLatLng([30.690889,76.7353423],{icon: greenIcon});
    marker3.addTo(mymap);
	}
});
var marker4 = L.marker([28.6377383,77.240835],{icon: greenIcon2}).addTo(mymap);
marker4.bindPopup("<b>21. Semifinal - 30/3/16</b><br/><br/><img src='NZ.png' width='30px' height='30px' alt='NZ'> NZ- 153/8 (20), L<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='ENG.png' width='30px' height='30px' alt='ENG'> ENG- 159/3 (17.1), W<br/><br/><b>20. Super 10 - 28/3/16</b><br/><br/><img src='SL.png' width='30px' height='30px' alt='SL'> SL- 120/10 (19.3), L<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='SA.png' width='30px' height='30px' alt='SA'> SA- 122/2 (17.4), W<br/><br/><b>17. Super 10 - 26/3/16</b><br/><br/><img src='ENG.png' width='30px' height='30px' alt='ENG'> ENG- 171/4 (20), W<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='SL.png' width='30px' height='30px' alt='SL'> SL- 161/8 (20), L<br/><br/><b>12. Super 10 - 23/3/16</b><br/><br/><img src='ENG.png' width='30px' height='30px' alt='ENG'> ENG- 142/7 (20), W<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='WI.png' width='30px' height='30px' alt='WI'> WI- 127/9 (20), L");
mymap.on('zoomend' , function (e) {
    console.log(mymap.getZoom());
    if (mymap.getZoom()<4){
        marker4.remove();
    }
	else{
	marker4.setLatLng([28.6377383,77.240835],{icon: greenIcon2});
    marker4.addTo(mymap);
	}
});
var marker5 = L.marker([18.9388227,72.8234744],{icon: greenIcon2}).addTo(mymap);
marker5.bindPopup("<b>22. Semifinal - 31/3/16</b><br/><br/><img src='IND.png' width='30px' height='30px' alt='IND'> IND- 192/2 (20), L<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='WI.png' width='30px' height='30px' alt='WI'> WI- 196/3 (19.4), W<br/><br/><b>8. Super 10 - 20/3/16</b><br/><br/><img src='SA.png' width='30px' height='30px' alt='SA'> SA- 209/5 (20), W<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='AFG.png' width='30px' height='30px' alt='AFG'> AFG- 172/10 (20), L<br/><br/><b>6. Super 10 - 18/3/16</b><br/><br/><img src='SA.png' width='30px' height='30px' alt='SA'> SA- 229/4 (20), L<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='ENG.png' width='30px' height='30px' alt='ENG'> ENG- 230/8 (19.4), W<br/><br/><b>3. Super 10 - 16/3/16</b><br/><br/><img src='ENG.png' width='30px' height='30px' alt='ENG'> ENG- 182/6 (20), L<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='WI.png' width='30px' height='30px' alt='WI'> WI- 183/4 (18.1), W");
mymap.on('zoomend' , function (e) {
    console.log(mymap.getZoom());
    if (mymap.getZoom()<4){
        marker5.remove();
    }
	else{
	marker5.setLatLng([18.9388227,72.8234744],{icon: greenIcon2});
    marker5.addTo(mymap);
	}
});
var marker6 = L.marker([22.5646081,88.3410758],{icon: greenIcon1}).addTo(mymap);
marker6.bindPopup("<b>23. The Final! - 3/4/16</b><br/><br/><img src='ENG.png' width='30px' height='30px' alt='ENG'> ENG- 155/9 (20), L<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='WI.png' width='30px' height='30px' alt='WI'> WI- 161/6 (19.4), W<br/><br/><b>16. Super 10 - 26/3/16</b><br/><br/><img src='NZ.png' width='30px' height='30px' alt='NZ'> NZ- 145/8 (20), W<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='BAN.png' width='30px' height='30px' alt='BAN'> BAN- 70/10 (15.4), L<br/><br/><b>7. Super 10 - 19/3/16</b><br/><br/><img src='PAK.png' width='30px' height='30px' alt='PAK'> PAK- 118/5 (18), L<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='IND.png' width='30px' height='30px' alt='IND'> IND- 161/6 (19.4), W<br/><br/><b>4. Super 10 - 17/3/16</b><br/><br/><img src='AFG.png' width='30px' height='30px' alt='AFG'> AFG- 153/7 (20), L<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='SL.png' width='30px' height='30px' alt='SL'> SL- 155/4 (18.5), W<br/><br/><b>2. Super 10 - 16/3/16</b><br/><br/><img src='PAK.png' width='30px' height='30px' alt='PAK'> PAK- 201/5 (20), W<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/><img src='BAN.png' width='30px' height='30px' alt='BAN'> BAN- 146/6 (20), L");
mymap.on('zoomend' , function (e) {
    console.log(mymap.getZoom());
    if (mymap.getZoom()<4){
        marker6.remove();
    }
	else{
	marker6.setLatLng([22.5646081,88.3410758],{icon: greenIcon1});
    marker6.addTo(mymap);
	}
});

		var marker,marker1,marker2,marker3,marker4,marker5,marker6;
			function onMapClick(e) {
				popup
					.setLatLng(e.latlng)
					.setContent("You clicked the map at " + e.latlng.toString())
					.openOn(mymap);
			}	
			
			mymap.on('click', onMapClick);
			
			$(document).ready(function() {
				if (!window.WebSocket) {
				
				//Checking if websocket is supported
                if (window.MozWebSocket) {	
				
                    window.WebSocket = window.MozWebSocket;
					
                } else {
					
					<!-- If web socket not supported, message is displayed -->
                    $('#messages').append("<li><b>Your browser doesn't support WebSockets.</b></li>");	
                }
            }
			
			//Setting up a web socket on the mentioned url
            ws = new WebSocket('ws://localhost:8080/websocket');
			
			//Defining what happens when socket connection opens
			ws.onopen = function(evt) {
                $('#messages').append('<li><b>Connected to server</b></li>');
			}
		   
		   //Defining what happens when message is received
           ws.onmessage = function(evt) {	
		       $('#messages').append('<li><b>evt.data</b></li>'); 
           }   
		   
		   //Defining what happens when the button is clicked
		   $('#btn').click(function(){	
		   
				//sending message of popup to server
				ws.send($('#ipt1').val());	
				var a=$('#ipt3').val();
				ws.send(a);
				console.log("msg2 is"+$('#ipt3').val());
				ws.send($('#ipt4').val());
				ws.send($('#ipt5').val());
				ws.send($('#ipt6').val());
				ws.send($('#ipt7').val());
				ws.send($('#ipt8').val());
				ws.send($('#ipt9').val());
				ws.send($('#ipt10').val());
				ws.send($('#ipt11').val());
				ws.send($('#ipt12').val());
				ws.send($('#ipt13').val());
				ws.send($('#ipt14').val());
				ws.send($('#ipt15').val());
				msg=$('#ipt1').val();
				msg2=$('#ipt3').val();
				msg3=$('#ipt4').val();
				msg4=$('#ipt5').val();
				msg5=$('#ipt6').val();
				msg6=$('#ipt7').val();
				msg7=$('#ipt8').val();
				msg8=$('#ipt9').val();
				msg9=$('#ipt10').val();
				msg10=$('#ipt11').val();
				msg11=$('#ipt12').val();
				msg12=$('#ipt13').val();
				msg13=$('#ipt14').val();
				msg14=$('#ipt15').val();
				var s1=msg;
				var s2=msg+"Z"+"<br/><br/><b>"+msg2+". "+msg3+" - "+msg4+"</b><br/><br/>"+"<img src='"+msg5+".png' width='30px' height='30px' alt='"+msg5+"'> "+msg5+"- "+msg6+"/"+msg7+" ("+msg8+"), "+msg9+"<br/>"+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vs<br/>"+"<img src='"+msg10+".png' width='30px' height='30px' alt='"+msg10+"'> "+msg10+"- "+msg11+"/"+msg12+" ("+msg13+"), "+msg14;
				if(s1==='32.1976097'){
						marker.setPopupContent(marker.getPopup().getContent()+s2);
						ws.send(s1);
						ws.send(marker.getPopup().getContent());
					}
					
					if(s1==='12.9788139'){
						marker1.getPopup().setContent(marker1.getPopup().getContent()+s2);
						ws.send(s1);
						ws.send(marker1.getPopup().getContent());
					}
					
					if(s1==='21.0856225'){
						marker2.getPopup().setContent(marker2.getPopup().getContent()+s2);
						ws.send(s1);
						ws.send(marker2.getPopup().getContent());
					}
					
					if(s1==='30.690889'){
						marker3.getPopup().setContent(marker3.getPopup().getContent()+s2);
						ws.send(s1);
						ws.send(marker3.getPopup().getContent());
					}
					
					if(s1==='28.6377383'){
						marker4.getPopup().setContent(marker4.getPopup().getContent()+s2);
						ws.send(s1);
						ws.send(marker4.getPopup().getContent());
					}
					
					if(s1==='18.9388227'){
						marker5.getPopup().setContent(marker5.getPopup().getContent()+s2);
						ws.send(s1);
						ws.send(marker5.getPopup().getContent());
					}
					
					if(s1==='22.5646081'){//updating popups
						marker6.getPopup().setContent(marker6.getPopup().getContent()+s2);
						ws.send(s1);
						ws.send(marker6.getPopup().getContent());
					}
				$('#ipt3').val('');
				$('#ipt4').val('');
				$('#ipt5').val('');
				$('#ipt6').val('');
				$('#ipt7').val('');
				$('#ipt8').val('');
				$('#ipt9').val('');
				$('#ipt10').val('');
				$('#ipt11').val('');
				$('#ipt12').val('');
				$('#ipt13').val('');
				$('#ipt14').val('');
				$('#ipt15').val('');
            });
			
			$('#btn3').click(function(){
			
				//Sending a unique string to determine if Signout is pressed
				ws.send("Offline1234abc5678def90ghij");	
            });
			
			//Timeout function to expire the session in an hour
			setTimeout(function(){ ws.close(); }, 3600000);	
			
			//Defining what happens when web socket connection is closed
		    ws.onclose = function()	
            {
				$('#messages').append('<li><b>' + "Connection is closed..." + '</b></li>'); 
            }
		});
	</script>

</body>
</html>